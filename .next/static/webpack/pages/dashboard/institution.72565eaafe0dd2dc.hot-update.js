"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/dashboard/institution",{

/***/ "./hooks/useInstitution.ts":
/*!*********************************!*\
  !*** ./hooks/useInstitution.ts ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useInstitution: function() { return /* binding */ useInstitution; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/.pnpm/@chakra-ui+react@2.10.7_@emotion+react@11.14.0_@types+react@18.3.20_react@18.3.1__@emotion+st_tgigla7qwzpx5vn3b6i2n35rga/node_modules/@chakra-ui/react/dist/esm/index.mjs\");\n/* harmony import */ var _utilsFront_contracts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilsFront/contracts */ \"./utilsFront/contracts.ts\");\n/* harmony import */ var wagmi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! wagmi */ \"./node_modules/.pnpm/wagmi@2.14.16_@tanstack+query-core@5.72.1_@tanstack+react-query@5.72.1_react@18.3.1__@types+r_hsye2nxu5nhyzf2bv6ii4shl2e/node_modules/wagmi/dist/esm/exports/index.js\");\n/* harmony import */ var _useContract__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useContract */ \"./hooks/useContract.ts\");\n/* harmony import */ var utils_ethersConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! utils/ethersConfig */ \"./utils/ethersConfig.ts\");\n\n\n\n\n\n\n// Add type for local storage\nconst INSTITUTION_STORAGE_KEY = \"institution_data\";\nconst EXAMS_STORAGE_KEY = \"institution_exams\";\nconst CERTIFICATES_STORAGE_KEY = \"institution_certificates\";\nconst useInstitution = ()=>{\n    const { examManagementContract, certificatesContract, isInitialized: contractsInitialized, isLoading: contractsLoading } = (0,_useContract__WEBPACK_IMPORTED_MODULE_2__.useContract)();\n    const { address = undefined, isConnected = false } = (0,wagmi__WEBPACK_IMPORTED_MODULE_4__.useAccount)() || {};\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.useToast)();\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [isInitialized, setIsInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [initializationAttempts, setInitializationAttempts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [institution, setInstitution] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [exams, setExams] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [certificates, setCertificates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [hasAccess, setHasAccess] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedExamResults, setSelectedExamResults] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [examStatistics, setExamStatistics] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const checkAccess = async (userAddress)=>{\n        // console.log('[CheckAccess] Starting access check for:', userAddress);\n        // if (!examManagementContract) {\n        //   console.error('[CheckAccess] Contract not initialized');\n        //   toast({ \n        //     title: 'Error',\n        //     description: 'Contract not initialized. Please try again.',\n        //     status: 'error'\n        //   });\n        //   return false;\n        // }\n        try {\n            const address = (0,utils_ethersConfig__WEBPACK_IMPORTED_MODULE_3__.getAddress)(userAddress);\n            console.log(address);\n        //   console.log('[CheckAccess] Checking if address is institution...');\n        //   const isInstitutionResult = await examManagementContract.isInstitution(userAddress);\n        //   console.log('[CheckAccess] isInstitution result:', isInstitutionResult);\n        //   if (!isInstitutionResult) {\n        //     console.log('[CheckAccess] Address is not registered as institution');\n        //     toast({ \n        //       title: 'Error',\n        //       description: 'Address is not registered as an institution',\n        //       status: 'error'\n        //     });\n        //     return false;\n        //   }\n        //   console.log('[CheckAccess] Getting institution data...');\n        //   const institutionData = await examManagementContract.getInstitution(userAddress);\n        //   console.log('[CheckAccess] Institution data:', institutionData);\n        //   if (!institutionData || institutionData.length < 10) {\n        //     console.error('[CheckAccess] Invalid institution data received');\n        //     toast({ \n        //       title: 'Error',\n        //       description: 'Invalid institution data',\n        //       status: 'error'\n        //     });\n        //     return false;\n        //   }\n        //   const isVerified = Boolean(institutionData[9]);\n        //   console.log('[CheckAccess] Institution verification status:', isVerified);\n        //   if (!isVerified) {\n        //     toast({ \n        //       title: 'Error',\n        //       description: 'Institution is not verified',\n        //       status: 'error'\n        //     });\n        //     return false;\n        //   }\n        //   console.log('[CheckAccess] Access granted');\n        //   return true;\n        } catch (error) {\n            console.error(\"[CheckAccess] Error checking access:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Error checking institution access\",\n                status: \"error\"\n            });\n            return false;\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let isMounted = true;\n        let initTimeout;\n        const initializeData = async ()=>{\n            try {\n                const initState = {\n                    isConnected,\n                    hasAddress: !!address,\n                    hasExamContract: !!examManagementContract,\n                    hasCertificatesContract: !!certificatesContract,\n                    contractsInitialized,\n                    contractsLoading,\n                    attempts: initializationAttempts\n                };\n                console.log(\"Institution initialization state:\", initState);\n                if (!isConnected || !address) {\n                    console.log(\"Not connected or no address available\");\n                    if (isMounted) {\n                        setIsLoading(false);\n                        setHasAccess(false);\n                        setIsInitialized(false);\n                    }\n                    return;\n                }\n                // Wait for contracts to finish loading\n                if (contractsLoading) {\n                    console.log(\"Contracts are still loading...\");\n                    return;\n                }\n                // Check contract initialization\n                if (!examManagementContract || !certificatesContract || !contractsInitialized) {\n                    console.error(\"Contract initialization check failed:\", {\n                        hasExamContract: !!examManagementContract,\n                        hasCertificatesContract: !!certificatesContract,\n                        isInitialized: contractsInitialized\n                    });\n                    if (isMounted) {\n                        setIsLoading(false);\n                        setHasAccess(false);\n                        setIsInitialized(false);\n                        // Retry initialization if under max attempts\n                        if (initializationAttempts < 3) {\n                            console.log(\"Scheduling retry attempt \".concat(initializationAttempts + 1, \"/3...\"));\n                            initTimeout = setTimeout(()=>{\n                                setInitializationAttempts((prev)=>prev + 1);\n                            }, 2000 * (initializationAttempts + 1)); // Exponential backoff\n                        } else {\n                            console.error(\"Max initialization attempts reached\");\n                            toast({\n                                title: \"خطأ في تهيئة العقود | Contract Initialization Error\",\n                                description: \"فشل في تهيئة العقود بعد عدة محاولات. يرجى التأكد من اتصال المحفظة والشبكة الصحيحة | Failed to initialize contracts after several attempts. Please check your wallet connection and network.\",\n                                status: \"error\",\n                                duration: 5000,\n                                isClosable: true\n                            });\n                        }\n                    }\n                }\n                // Reset attempts on successful initialization\n                if (initializationAttempts > 0) {\n                    setInitializationAttempts(0);\n                }\n                if (isMounted) {\n                    setIsLoading(true);\n                }\n                // Check access first\n                const accessGranted = await checkAccess(address);\n                console.log(\"Access check result:\", accessGranted);\n                if (!isMounted) return;\n                if (accessGranted) {\n                    setHasAccess(accessGranted);\n                }\n                if (!accessGranted) {\n                    setIsLoading(false);\n                    setIsInitialized(false);\n                    return;\n                }\n                // Load data only if access is granted\n                const [institutionData, examsData, certificatesData] = await Promise.all([\n                    loadInstitutionFromContract(address),\n                    loadExamsFromContract(address),\n                    loadCertificatesFromContract(address)\n                ]);\n                if (!isMounted) return;\n                if (institutionData) {\n                    setInstitution(institutionData);\n                    setIsInitialized(true);\n                } else {\n                    console.error(\"Failed to load institution data\");\n                    setIsInitialized(false);\n                }\n                if (examsData) {\n                    setExams(examsData);\n                }\n                if (certificatesData) {\n                    setCertificates(certificatesData);\n                }\n            } catch (error) {\n                console.error(\"Critical initialization error:\", {\n                    error: error instanceof Error ? {\n                        name: error.name,\n                        message: error.message,\n                        stack: error.stack\n                    } : \"Unknown error\",\n                    state: {\n                        address,\n                        contractStatus: {\n                            hasExamContract: !!examManagementContract,\n                            hasCertificatesContract: !!certificatesContract,\n                            isInitialized: contractsInitialized,\n                            isLoading: contractsLoading\n                        }\n                    }\n                });\n                if (isMounted) {\n                    setIsInitialized(false);\n                    setHasAccess(false);\n                    toast({\n                        title: \"خطأ في تهيئة البيانات | Data Initialization Error\",\n                        description: error instanceof Error ? \"\".concat(error.message, \" | يرجى المحاولة مرة أخرى\") : \"حدث خطأ غير معروف | An unknown error occurred\",\n                        status: \"error\",\n                        duration: 5000,\n                        isClosable: true\n                    });\n                }\n            } finally{\n                if (isMounted) {\n                    setIsLoading(false);\n                }\n            }\n        };\n        initializeData();\n        return ()=>{\n            isMounted = false;\n            if (initTimeout) {\n                clearTimeout(initTimeout);\n            }\n        };\n    }, [\n        isConnected,\n        address,\n        examManagementContract,\n        certificatesContract,\n        contractsInitialized,\n        contractsLoading,\n        initializationAttempts,\n        toast\n    ]);\n    // Helper functions with proper type checking\n    const loadInstitutionFromContract = async (userAddress)=>{\n        if (!examManagementContract || !userAddress) return null;\n        try {\n            const data = await examManagementContract.getInstitution(userAddress);\n            return {\n                name: data.name,\n                ministry: data.ministry,\n                university: data.university,\n                college: data.college,\n                description: data.description,\n                imageUrl: data.imageUrl,\n                website: data.website,\n                email: data.email,\n                phone: data.phone\n            };\n        } catch (error) {\n            console.error(\"Error loading institution:\", error);\n            return null;\n        }\n    };\n    const loadExamsFromContract = async (userAddress)=>{\n        if (!examManagementContract || !userAddress) {\n            return [];\n        }\n        try {\n            return await examManagementContract.getInstitutionExams(userAddress);\n        } catch (error) {\n            console.error(\"Error loading exams:\", error);\n            return [];\n        }\n    };\n    const loadCertificatesFromContract = async (userAddress)=>{\n        if (!certificatesContract || !userAddress) {\n            return [];\n        }\n        try {\n            return await certificatesContract.getInstitutionCertificates(userAddress);\n        } catch (error) {\n            console.error(\"Error loading certificates:\", error);\n            return [];\n        }\n    };\n    const createExam = async (exam)=>{\n        if (!address) {\n            toast({\n                title: \"خطأ في العنوان | Address Error\",\n                description: \"لم يتم العثور على عنوان المحفظة | Wallet address not found\",\n                status: \"error\",\n                duration: 3000\n            });\n            return false;\n        }\n        try {\n            setIsLoading(true);\n            const contract = await (0,_utilsFront_contracts__WEBPACK_IMPORTED_MODULE_1__.getContract)();\n            const tx = await contract.createExam(exam.title, exam.description, exam.date);\n            await tx.wait();\n            await loadExamsFromContract(address);\n            return true;\n        } catch (err) {\n            console.error(\"Error creating exam:\", err);\n            toast({\n                title: \"Error creating exam\",\n                description: err instanceof Error ? err.message : \"An unknown error occurred\",\n                status: \"error\",\n                duration: 3000\n            });\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const updateExamStatus = async (examId, status)=>{\n        if (!address) {\n            toast({\n                title: \"خطأ في العنوان | Address Error\",\n                description: \"لم يتم العثور على عنوان المحفظة | Wallet address not found\",\n                status: \"error\",\n                duration: 3000\n            });\n            return false;\n        }\n        try {\n            setIsLoading(true);\n            const contract = await (0,_utilsFront_contracts__WEBPACK_IMPORTED_MODULE_1__.getContract)();\n            const tx = await contract.updateExamStatus(examId, status);\n            await tx.wait();\n            await loadExamsFromContract(address);\n            return true;\n        } catch (err) {\n            console.error(\"Error updating exam status:\", err);\n            toast({\n                title: \"Error updating exam status\",\n                description: err instanceof Error ? err.message : \"An unknown error occurred\",\n                status: \"error\",\n                duration: 3000\n            });\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const registerStudents = async (examId, students)=>{\n        try {\n            setIsLoading(true);\n            const contract = await (0,_utilsFront_contracts__WEBPACK_IMPORTED_MODULE_1__.getContract)();\n            const tx = await contract.registerStudents(examId, students);\n            await tx.wait();\n            return true;\n        } catch (err) {\n            console.error(\"Error registering students:\", err);\n            toast({\n                title: \"Error registering students\",\n                description: err instanceof Error ? err.message : \"An unknown error occurred\",\n                status: \"error\",\n                duration: 3000\n            });\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleSubmitResults = async (examId, results)=>{\n        try {\n            setIsLoading(true);\n            const contract = await (0,_utilsFront_contracts__WEBPACK_IMPORTED_MODULE_1__.getContract)();\n            const tx = await contract.submitResults(examId, results);\n            await tx.wait();\n            await loadExamResults(examId);\n            toast({\n                title: \"تم إضافة النتائج بنجاح | Results submitted successfully\",\n                status: \"success\",\n                duration: 3000\n            });\n            return true;\n        } catch (err) {\n            console.error(\"Error submitting results:\", err);\n            toast({\n                title: \"حدث خطأ | Error occurred\",\n                description: err instanceof Error ? err.message : \"An unknown error occurred\",\n                status: \"error\",\n                duration: 3000\n            });\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const loadExamResults = async (examId)=>{\n        try {\n            const currentExam = exams.find((exam)=>exam.id === examId);\n            if (!currentExam) {\n                throw new Error(\"Exam not found\");\n            }\n            const examResultsList = await Promise.all(currentExam.students.map(async (studentId)=>{\n                try {\n                    const result = await (0,_utilsFront_contracts__WEBPACK_IMPORTED_MODULE_1__.getExamResult)(examId, studentId);\n                    return result;\n                } catch (e) {\n                    return null;\n                }\n            }));\n            const validResults = examResultsList.filter((result)=>result !== null);\n            setSelectedExamResults(validResults);\n            if (validResults.length === 0) {\n                setExamStatistics(null);\n                return;\n            }\n            // Calculate statistics\n            const totalStudents = validResults.length;\n            const passingStudents = validResults.filter((result)=>result.score >= 60).length;\n            const totalScore = validResults.reduce((sum, result)=>sum + result.score, 0);\n            const gradeCount = {\n                A: validResults.filter((result)=>result.grade === \"A\").length,\n                B: validResults.filter((result)=>result.grade === \"B\").length,\n                C: validResults.filter((result)=>result.grade === \"C\").length,\n                D: validResults.filter((result)=>result.grade === \"D\").length,\n                F: validResults.filter((result)=>result.grade === \"F\").length\n            };\n            const mostCommonGrade = Object.entries(gradeCount).reduce((a, b)=>a[1] > b[1] ? a : b)[0];\n            setExamStatistics({\n                totalStudents,\n                passingCount: passingStudents,\n                aCount: gradeCount.A,\n                bCount: gradeCount.B,\n                cCount: gradeCount.C,\n                dCount: gradeCount.D,\n                fCount: gradeCount.F,\n                averageScore: totalScore / totalStudents,\n                passRate: passingStudents * 100 / totalStudents,\n                mostCommonGrade\n            });\n        } catch (err) {\n            console.error(\"Error loading exam results:\", err);\n            toast({\n                title: \"Error loading results\",\n                description: err instanceof Error ? err.message : \"An unknown error occurred\",\n                status: \"error\",\n                duration: 3000\n            });\n        }\n    };\n    const handleEnrollStudent = async (examId, studentAddress)=>{\n        if (!address) {\n            toast({\n                title: \"خطأ في العنوان | Address Error\",\n                description: \"لم يتم العثور على عنوان المحفظة | Wallet address not found\",\n                status: \"error\",\n                duration: 3000\n            });\n            return false;\n        }\n        try {\n            setIsLoading(true);\n            await (0,_utilsFront_contracts__WEBPACK_IMPORTED_MODULE_1__.enrollStudent)(examId, studentAddress);\n            toast({\n                title: \"Student enrolled successfully\",\n                status: \"success\",\n                duration: 3000\n            });\n            await loadExamsFromContract(address);\n            return true;\n        } catch (err) {\n            console.error(\"Error enrolling student:\", err);\n            toast({\n                title: \"Error enrolling student\",\n                description: err instanceof Error ? err.message : \"An unknown error occurred\",\n                status: \"error\",\n                duration: 3000\n            });\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const issueCertificate = async (studentAddress, certificate)=>{\n        if (!address) {\n            toast({\n                title: \"خطأ في العنوان | Address Error\",\n                description: \"لم يتم العثور على عنوان المحفظة | Wallet address not found\",\n                status: \"error\",\n                duration: 3000\n            });\n            return false;\n        }\n        try {\n            setIsLoading(true);\n            const contract = await (0,_utilsFront_contracts__WEBPACK_IMPORTED_MODULE_1__.getContract)();\n            const tx = await contract.issueCertificate(studentAddress, certificate.title, certificate.description);\n            await tx.wait();\n            await loadCertificatesFromContract(address);\n            toast({\n                title: \"Certificate issued successfully\",\n                status: \"success\",\n                duration: 3000\n            });\n            return true;\n        } catch (err) {\n            console.error(\"Error issuing certificate:\", err);\n            toast({\n                title: \"Error issuing certificate\",\n                description: err instanceof Error ? err.message : \"An unknown error occurred\",\n                status: \"error\",\n                duration: 3000\n            });\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const saveInstitutionProfile = async (data)=>{\n        if (!examManagementContract || !address) {\n            throw new Error(\"Contract or address not available\");\n        }\n        // Validate required fields\n        if (!data.name || !data.ministry || !data.university || !data.college || !data.description || !data.imageUrl || !data.website || !data.email || !data.phone) {\n            throw new Error(\"جميع الحقول مطلوبة | All fields are required\");\n        }\n        try {\n            setIsLoading(true);\n            const tx = await examManagementContract.write.updateInstitutionProfile({\n                args: [\n                    data.name,\n                    data.ministry,\n                    data.university,\n                    data.college,\n                    data.description,\n                    data.imageUrl || \"\",\n                    data.website || \"\",\n                    data.email || \"\",\n                    data.phone || \"\"\n                ]\n            });\n            await tx.wait();\n            setInstitution(data);\n            toast({\n                title: \"تم الحفظ بنجاح | Saved Successfully\",\n                status: \"success\",\n                duration: 3000,\n                isClosable: true\n            });\n        } catch (error) {\n            console.error(\"Error saving institution profile:\", error);\n            toast({\n                title: \"خطأ في الحفظ | Error Saving\",\n                description: error instanceof Error ? error.message : \"An unknown error occurred\",\n                status: \"error\",\n                duration: 5000,\n                isClosable: true\n            });\n            throw error;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    return {\n        institution,\n        exams,\n        certificates,\n        isLoading,\n        isInitialized,\n        hasAccess,\n        selectedExamResults,\n        examStatistics,\n        saveInstitutionProfile,\n        createExam,\n        updateExamStatus,\n        registerStudents,\n        handleSubmitResults,\n        handleEnrollStudent,\n        loadExamResults,\n        issueCertificate\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxJQUFJO29CQUNkUCxLQUFLUSxLQUFLLElBQUk7aUJBQ2Y7WUFDSDtZQUNBLE1BQU1NLEdBQUdFLElBQUk7WUFDYi9ELGVBQWUrQztZQUNmckQsTUFBTTtnQkFDSnNCLE9BQU87Z0JBQ1BFLFFBQVE7Z0JBQ1JXLFVBQVU7Z0JBQ1ZDLFlBQVk7WUFDZDtRQUNGLEVBQUUsT0FBT2YsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMscUNBQXFDQTtZQUNuRHJCLE1BQU07Z0JBQ0pzQixPQUFPO2dCQUNQQyxhQUFhRixpQkFBaUJ5QixRQUFRekIsTUFBTTJCLE9BQU8sR0FBRztnQkFDdER4QixRQUFRO2dCQUNSVyxVQUFVO2dCQUNWQyxZQUFZO1lBQ2Q7WUFDQSxNQUFNZjtRQUNSLFNBQVU7WUFDUnBCLGFBQWE7UUFDZjtJQUNGO0lBRUEsT0FBTztRQUNMSTtRQUNBRTtRQUNBRTtRQUNBZDtRQUNBRjtRQUNBa0I7UUFDQUU7UUFDQUU7UUFDQXdHO1FBQ0F2RDtRQUNBTztRQUNBRTtRQUNBRTtRQUNBd0M7UUFDQXJDO1FBQ0F1QztJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy91c2VJbnN0aXR1dGlvbi50cz9mYTc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IGV0aGVycyB9IGZyb20gJ2V0aGVycyc7XG5pbXBvcnQge1xuICBnZXRVc2VyUm9sZSxcbiAgaXNWZXJpZmllZFVzZXIsXG4gIGdldENlcnRpZmljYXRlcyxcbiAgZ2V0SW5zdGl0dXRpb25FeGFtcyxcbiAgdXBkYXRlRXhhbVN0YXR1cyxcbiAgc3VibWl0RXhhbVJlc3VsdCxcbiAgZ2V0RXhhbVJlc3VsdCxcbiAgZW5yb2xsU3R1ZGVudCxcbiAgY3JlYXRlRXhhbSxcbiAgZ2V0Q29udHJhY3Rcbn0gZnJvbSAnLi4vdXRpbHNGcm9udC9jb250cmFjdHMnO1xuaW1wb3J0IHsgdXBsb2FkVG9JUEZTLCBnZXRGcm9tSVBGUyB9IGZyb20gJy4uL3V0aWxzL2lwZnMnO1xuaW1wb3J0IHsgQ2VydGlmaWNhdGUsIEV4YW0sIEV4YW1SZXN1bHQsIEV4YW1TdGF0aXN0aWNzLCBOZXdFeGFtIH0gZnJvbSAnLi4vdHlwZXMvaW5zdGl0dXRpb24nO1xuaW1wb3J0IHsgdXNlQWNjb3VudCB9IGZyb20gJ3dhZ21pJztcbmltcG9ydCB7IHVzZUNvbnRyYWN0IH0gZnJvbSAnLi91c2VDb250cmFjdCc7XG5pbXBvcnQgeyBJbnN0aXR1dGlvbkRhdGEgfSBmcm9tICcuLi9jb21wb25lbnRzL2luc3RpdHV0aW9uL0luc3RpdHV0aW9uUHJvZmlsZSc7XG5pbXBvcnQgeyBnZXRBZGRyZXNzIH0gZnJvbSAndXRpbHMvZXRoZXJzQ29uZmlnJztcblxuLy8gQWRkIHR5cGUgZm9yIGxvY2FsIHN0b3JhZ2VcbmNvbnN0IElOU1RJVFVUSU9OX1NUT1JBR0VfS0VZID0gJ2luc3RpdHV0aW9uX2RhdGEnO1xuY29uc3QgRVhBTVNfU1RPUkFHRV9LRVkgPSAnaW5zdGl0dXRpb25fZXhhbXMnO1xuY29uc3QgQ0VSVElGSUNBVEVTX1NUT1JBR0VfS0VZID0gJ2luc3RpdHV0aW9uX2NlcnRpZmljYXRlcyc7XG5cbmV4cG9ydCBjb25zdCB1c2VJbnN0aXR1dGlvbiA9ICgpID0+IHtcbiAgY29uc3Qge1xuICAgIGV4YW1NYW5hZ2VtZW50Q29udHJhY3QsXG4gICAgY2VydGlmaWNhdGVzQ29udHJhY3QsXG4gICAgaXNJbml0aWFsaXplZDogY29udHJhY3RzSW5pdGlhbGl6ZWQsXG4gICAgaXNMb2FkaW5nOiBjb250cmFjdHNMb2FkaW5nXG4gIH0gPSB1c2VDb250cmFjdCgpO1xuICBjb25zdCB7IGFkZHJlc3MgPSB1bmRlZmluZWQsIGlzQ29ubmVjdGVkID0gZmFsc2UgfSA9IHVzZUFjY291bnQoKSB8fCB7fTtcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xuXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2lzSW5pdGlhbGl6ZWQsIHNldElzSW5pdGlhbGl6ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaW5pdGlhbGl6YXRpb25BdHRlbXB0cywgc2V0SW5pdGlhbGl6YXRpb25BdHRlbXB0c10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2luc3RpdHV0aW9uLCBzZXRJbnN0aXR1dGlvbl0gPSB1c2VTdGF0ZTxJbnN0aXR1dGlvbkRhdGEgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2V4YW1zLCBzZXRFeGFtc10gPSB1c2VTdGF0ZTxFeGFtW10+KFtdKTtcbiAgY29uc3QgW2NlcnRpZmljYXRlcywgc2V0Q2VydGlmaWNhdGVzXSA9IHVzZVN0YXRlPENlcnRpZmljYXRlW10+KFtdKTtcbiAgY29uc3QgW2hhc0FjY2Vzcywgc2V0SGFzQWNjZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkRXhhbVJlc3VsdHMsIHNldFNlbGVjdGVkRXhhbVJlc3VsdHNdID0gdXNlU3RhdGU8RXhhbVJlc3VsdFtdPihbXSk7XG4gIGNvbnN0IFtleGFtU3RhdGlzdGljcywgc2V0RXhhbVN0YXRpc3RpY3NdID0gdXNlU3RhdGU8RXhhbVN0YXRpc3RpY3MgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBjaGVja0FjY2VzcyA9IGFzeW5jICh1c2VyQWRkcmVzczogc3RyaW5nKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ1tDaGVja0FjY2Vzc10gU3RhcnRpbmcgYWNjZXNzIGNoZWNrIGZvcjonLCB1c2VyQWRkcmVzcyk7XG5cbiAgICAvLyBpZiAoIWV4YW1NYW5hZ2VtZW50Q29udHJhY3QpIHtcbiAgICAvLyAgIGNvbnNvbGUuZXJyb3IoJ1tDaGVja0FjY2Vzc10gQ29udHJhY3Qgbm90IGluaXRpYWxpemVkJyk7XG4gICAgLy8gICB0b2FzdCh7IFxuICAgIC8vICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAvLyAgICAgZGVzY3JpcHRpb246ICdDb250cmFjdCBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAvLyAgICAgc3RhdHVzOiAnZXJyb3InXG4gICAgLy8gICB9KTtcbiAgICAvLyAgIHJldHVybiBmYWxzZTtcbiAgICAvLyB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgYWRkcmVzcyA9IGdldEFkZHJlc3ModXNlckFkZHJlc3MpO1xuICAgICAgY29uc29sZS5sb2coIGFkZHJlc3MpO1xuICAgICAgLy8gICBjb25zb2xlLmxvZygnW0NoZWNrQWNjZXNzXSBDaGVja2luZyBpZiBhZGRyZXNzIGlzIGluc3RpdHV0aW9uLi4uJyk7XG4gICAgICAvLyAgIGNvbnN0IGlzSW5zdGl0dXRpb25SZXN1bHQgPSBhd2FpdCBleGFtTWFuYWdlbWVudENvbnRyYWN0LmlzSW5zdGl0dXRpb24odXNlckFkZHJlc3MpO1xuICAgICAgLy8gICBjb25zb2xlLmxvZygnW0NoZWNrQWNjZXNzXSBpc0luc3RpdHV0aW9uIHJlc3VsdDonLCBpc0luc3RpdHV0aW9uUmVzdWx0KTtcblxuICAgICAgLy8gICBpZiAoIWlzSW5zdGl0dXRpb25SZXN1bHQpIHtcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnW0NoZWNrQWNjZXNzXSBBZGRyZXNzIGlzIG5vdCByZWdpc3RlcmVkIGFzIGluc3RpdHV0aW9uJyk7XG4gICAgICAvLyAgICAgdG9hc3QoeyBcbiAgICAgIC8vICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgLy8gICAgICAgZGVzY3JpcHRpb246ICdBZGRyZXNzIGlzIG5vdCByZWdpc3RlcmVkIGFzIGFuIGluc3RpdHV0aW9uJyxcbiAgICAgIC8vICAgICAgIHN0YXR1czogJ2Vycm9yJ1xuICAgICAgLy8gICAgIH0pO1xuICAgICAgLy8gICAgIHJldHVybiBmYWxzZTtcbiAgICAgIC8vICAgfVxuXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKCdbQ2hlY2tBY2Nlc3NdIEdldHRpbmcgaW5zdGl0dXRpb24gZGF0YS4uLicpO1xuICAgICAgLy8gICBjb25zdCBpbnN0aXR1dGlvbkRhdGEgPSBhd2FpdCBleGFtTWFuYWdlbWVudENvbnRyYWN0LmdldEluc3RpdHV0aW9uKHVzZXJBZGRyZXNzKTtcbiAgICAgIC8vICAgY29uc29sZS5sb2coJ1tDaGVja0FjY2Vzc10gSW5zdGl0dXRpb24gZGF0YTonLCBpbnN0aXR1dGlvbkRhdGEpO1xuXG4gICAgICAvLyAgIGlmICghaW5zdGl0dXRpb25EYXRhIHx8IGluc3RpdHV0aW9uRGF0YS5sZW5ndGggPCAxMCkge1xuICAgICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoJ1tDaGVja0FjY2Vzc10gSW52YWxpZCBpbnN0aXR1dGlvbiBkYXRhIHJlY2VpdmVkJyk7XG4gICAgICAvLyAgICAgdG9hc3QoeyBcbiAgICAgIC8vICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgLy8gICAgICAgZGVzY3JpcHRpb246ICdJbnZhbGlkIGluc3RpdHV0aW9uIGRhdGEnLFxuICAgICAgLy8gICAgICAgc3RhdHVzOiAnZXJyb3InXG4gICAgICAvLyAgICAgfSk7XG4gICAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gICB9XG5cbiAgICAgIC8vICAgY29uc3QgaXNWZXJpZmllZCA9IEJvb2xlYW4oaW5zdGl0dXRpb25EYXRhWzldKTtcbiAgICAgIC8vICAgY29uc29sZS5sb2coJ1tDaGVja0FjY2Vzc10gSW5zdGl0dXRpb24gdmVyaWZpY2F0aW9uIHN0YXR1czonLCBpc1ZlcmlmaWVkKTtcblxuICAgICAgLy8gICBpZiAoIWlzVmVyaWZpZWQpIHtcbiAgICAgIC8vICAgICB0b2FzdCh7IFxuICAgICAgLy8gICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAvLyAgICAgICBkZXNjcmlwdGlvbjogJ0luc3RpdHV0aW9uIGlzIG5vdCB2ZXJpZmllZCcsXG4gICAgICAvLyAgICAgICBzdGF0dXM6ICdlcnJvcidcbiAgICAgIC8vICAgICB9KTtcbiAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAvLyAgIH1cblxuICAgICAgLy8gICBjb25zb2xlLmxvZygnW0NoZWNrQWNjZXNzXSBBY2Nlc3MgZ3JhbnRlZCcpO1xuICAgICAgLy8gICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0NoZWNrQWNjZXNzXSBFcnJvciBjaGVja2luZyBhY2Nlc3M6JywgZXJyb3IpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdFcnJvciBjaGVja2luZyBpbnN0aXR1dGlvbiBhY2Nlc3MnLFxuICAgICAgICBzdGF0dXM6ICdlcnJvcidcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xuICAgIGxldCBpbml0VGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XG5cbiAgICBjb25zdCBpbml0aWFsaXplRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGluaXRTdGF0ZSA9IHtcbiAgICAgICAgICBpc0Nvbm5lY3RlZCxcbiAgICAgICAgICBoYXNBZGRyZXNzOiAhIWFkZHJlc3MsXG4gICAgICAgICAgaGFzRXhhbUNvbnRyYWN0OiAhIWV4YW1NYW5hZ2VtZW50Q29udHJhY3QsXG4gICAgICAgICAgaGFzQ2VydGlmaWNhdGVzQ29udHJhY3Q6ICEhY2VydGlmaWNhdGVzQ29udHJhY3QsXG4gICAgICAgICAgY29udHJhY3RzSW5pdGlhbGl6ZWQsXG4gICAgICAgICAgY29udHJhY3RzTG9hZGluZyxcbiAgICAgICAgICBhdHRlbXB0czogaW5pdGlhbGl6YXRpb25BdHRlbXB0c1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdJbnN0aXR1dGlvbiBpbml0aWFsaXphdGlvbiBzdGF0ZTonLCBpbml0U3RhdGUpO1xuXG4gICAgICAgIGlmICghaXNDb25uZWN0ZWQgfHwgIWFkZHJlc3MpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm90IGNvbm5lY3RlZCBvciBubyBhZGRyZXNzIGF2YWlsYWJsZScpO1xuICAgICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRIYXNBY2Nlc3MoZmFsc2UpO1xuICAgICAgICAgICAgc2V0SXNJbml0aWFsaXplZChmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdhaXQgZm9yIGNvbnRyYWN0cyB0byBmaW5pc2ggbG9hZGluZ1xuICAgICAgICBpZiAoY29udHJhY3RzTG9hZGluZykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDb250cmFjdHMgYXJlIHN0aWxsIGxvYWRpbmcuLi4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBjb250cmFjdCBpbml0aWFsaXphdGlvblxuICAgICAgICBpZiAoIWV4YW1NYW5hZ2VtZW50Q29udHJhY3QgfHwgIWNlcnRpZmljYXRlc0NvbnRyYWN0IHx8ICFjb250cmFjdHNJbml0aWFsaXplZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvbnRyYWN0IGluaXRpYWxpemF0aW9uIGNoZWNrIGZhaWxlZDonLCB7XG4gICAgICAgICAgICBoYXNFeGFtQ29udHJhY3Q6ICEhZXhhbU1hbmFnZW1lbnRDb250cmFjdCxcbiAgICAgICAgICAgIGhhc0NlcnRpZmljYXRlc0NvbnRyYWN0OiAhIWNlcnRpZmljYXRlc0NvbnRyYWN0LFxuICAgICAgICAgICAgaXNJbml0aWFsaXplZDogY29udHJhY3RzSW5pdGlhbGl6ZWRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRIYXNBY2Nlc3MoZmFsc2UpO1xuICAgICAgICAgICAgc2V0SXNJbml0aWFsaXplZChmYWxzZSk7XG5cbiAgICAgICAgICAgIC8vIFJldHJ5IGluaXRpYWxpemF0aW9uIGlmIHVuZGVyIG1heCBhdHRlbXB0c1xuICAgICAgICAgICAgaWYgKGluaXRpYWxpemF0aW9uQXR0ZW1wdHMgPCAzKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTY2hlZHVsaW5nIHJldHJ5IGF0dGVtcHQgJHtpbml0aWFsaXphdGlvbkF0dGVtcHRzICsgMX0vMy4uLmApO1xuICAgICAgICAgICAgICBpbml0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEluaXRpYWxpemF0aW9uQXR0ZW1wdHMocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICAgICAgICAgIH0sIDIwMDAgKiAoaW5pdGlhbGl6YXRpb25BdHRlbXB0cyArIDEpKTsgLy8gRXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWF4IGluaXRpYWxpemF0aW9uIGF0dGVtcHRzIHJlYWNoZWQnKTtcbiAgICAgICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn2K7Yt9ijINmB2Yog2KrZh9mK2KbYqSDYp9mE2LnZgtmI2K8gfCBDb250cmFjdCBJbml0aWFsaXphdGlvbiBFcnJvcicsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfZgdi02YQg2YHZiiDYqtmH2YrYptipINin2YTYudmC2YjYryDYqNi52K8g2LnYr9ipINmF2K3Yp9mI2YTYp9iqLiDZitix2KzZiSDYp9mE2KrYo9mD2K8g2YXZhiDYp9iq2LXYp9mEINin2YTZhdit2YHYuNipINmI2KfZhNi02KjZg9ipINin2YTYtdit2YrYrdipIHwgRmFpbGVkIHRvIGluaXRpYWxpemUgY29udHJhY3RzIGFmdGVyIHNldmVyYWwgYXR0ZW1wdHMuIFBsZWFzZSBjaGVjayB5b3VyIHdhbGxldCBjb25uZWN0aW9uIGFuZCBuZXR3b3JrLicsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLFxuICAgICAgICAgICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IGF0dGVtcHRzIG9uIHN1Y2Nlc3NmdWwgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgaWYgKGluaXRpYWxpemF0aW9uQXR0ZW1wdHMgPiAwKSB7XG4gICAgICAgICAgc2V0SW5pdGlhbGl6YXRpb25BdHRlbXB0cygwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBhY2Nlc3MgZmlyc3RcbiAgICAgICAgY29uc3QgYWNjZXNzR3JhbnRlZCA9IGF3YWl0IGNoZWNrQWNjZXNzKGFkZHJlc3MpO1xuICAgICAgICBjb25zb2xlLmxvZygnQWNjZXNzIGNoZWNrIHJlc3VsdDonLCBhY2Nlc3NHcmFudGVkKTtcblxuICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChhY2Nlc3NHcmFudGVkKSB7XG4gICAgICAgICAgc2V0SGFzQWNjZXNzKGFjY2Vzc0dyYW50ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhY2Nlc3NHcmFudGVkKSB7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBzZXRJc0luaXRpYWxpemVkKGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb2FkIGRhdGEgb25seSBpZiBhY2Nlc3MgaXMgZ3JhbnRlZFxuICAgICAgICBjb25zdCBbaW5zdGl0dXRpb25EYXRhLCBleGFtc0RhdGEsIGNlcnRpZmljYXRlc0RhdGFdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIGxvYWRJbnN0aXR1dGlvbkZyb21Db250cmFjdChhZGRyZXNzKSxcbiAgICAgICAgICBsb2FkRXhhbXNGcm9tQ29udHJhY3QoYWRkcmVzcyksXG4gICAgICAgICAgbG9hZENlcnRpZmljYXRlc0Zyb21Db250cmFjdChhZGRyZXNzKVxuICAgICAgICBdKTtcblxuICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChpbnN0aXR1dGlvbkRhdGEpIHtcbiAgICAgICAgICBzZXRJbnN0aXR1dGlvbihpbnN0aXR1dGlvbkRhdGEpO1xuICAgICAgICAgIHNldElzSW5pdGlhbGl6ZWQodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgaW5zdGl0dXRpb24gZGF0YScpO1xuICAgICAgICAgIHNldElzSW5pdGlhbGl6ZWQoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4YW1zRGF0YSkge1xuICAgICAgICAgIHNldEV4YW1zKGV4YW1zRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2VydGlmaWNhdGVzRGF0YSkge1xuICAgICAgICAgIHNldENlcnRpZmljYXRlcyhjZXJ0aWZpY2F0ZXNEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdDcml0aWNhbCBpbml0aWFsaXphdGlvbiBlcnJvcjonLCB7XG4gICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyB7XG4gICAgICAgICAgICBuYW1lOiBlcnJvci5uYW1lLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YWNrOiBlcnJvci5zdGFja1xuICAgICAgICAgIH0gOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBjb250cmFjdFN0YXR1czoge1xuICAgICAgICAgICAgICBoYXNFeGFtQ29udHJhY3Q6ICEhZXhhbU1hbmFnZW1lbnRDb250cmFjdCxcbiAgICAgICAgICAgICAgaGFzQ2VydGlmaWNhdGVzQ29udHJhY3Q6ICEhY2VydGlmaWNhdGVzQ29udHJhY3QsXG4gICAgICAgICAgICAgIGlzSW5pdGlhbGl6ZWQ6IGNvbnRyYWN0c0luaXRpYWxpemVkLFxuICAgICAgICAgICAgICBpc0xvYWRpbmc6IGNvbnRyYWN0c0xvYWRpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBzZXRJc0luaXRpYWxpemVkKGZhbHNlKTtcbiAgICAgICAgICBzZXRIYXNBY2Nlc3MoZmFsc2UpO1xuICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiAn2K7Yt9ijINmB2Yog2KrZh9mK2KbYqSDYp9mE2KjZitin2YbYp9iqIHwgRGF0YSBJbml0aWFsaXphdGlvbiBFcnJvcicsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgICA/IGAke2Vycm9yLm1lc3NhZ2V9IHwg2YrYsdis2Ykg2KfZhNmF2K3Yp9mI2YTYqSDZhdix2Kkg2KPYrtix2YlgXG4gICAgICAgICAgICAgIDogJ9it2K/YqyDYrti32KMg2LrZitixINmF2LnYsdmI2YEgfCBBbiB1bmtub3duIGVycm9yIG9jY3VycmVkJyxcbiAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLFxuICAgICAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaW5pdGlhbGl6ZURhdGEoKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChpbml0VGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoaW5pdFRpbWVvdXQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtcbiAgICBpc0Nvbm5lY3RlZCxcbiAgICBhZGRyZXNzLFxuICAgIGV4YW1NYW5hZ2VtZW50Q29udHJhY3QsXG4gICAgY2VydGlmaWNhdGVzQ29udHJhY3QsXG4gICAgY29udHJhY3RzSW5pdGlhbGl6ZWQsXG4gICAgY29udHJhY3RzTG9hZGluZyxcbiAgICBpbml0aWFsaXphdGlvbkF0dGVtcHRzLFxuICAgIHRvYXN0XG4gIF0pO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbnMgd2l0aCBwcm9wZXIgdHlwZSBjaGVja2luZ1xuICBjb25zdCBsb2FkSW5zdGl0dXRpb25Gcm9tQ29udHJhY3QgPSBhc3luYyAodXNlckFkZHJlc3M6IGAweCR7c3RyaW5nfWApOiBQcm9taXNlPEluc3RpdHV0aW9uRGF0YSB8IG51bGw+ID0+IHtcbiAgICBpZiAoIWV4YW1NYW5hZ2VtZW50Q29udHJhY3QgfHwgIXVzZXJBZGRyZXNzKSByZXR1cm4gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZXhhbU1hbmFnZW1lbnRDb250cmFjdC5nZXRJbnN0aXR1dGlvbih1c2VyQWRkcmVzcyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIG1pbmlzdHJ5OiBkYXRhLm1pbmlzdHJ5LFxuICAgICAgICB1bml2ZXJzaXR5OiBkYXRhLnVuaXZlcnNpdHksXG4gICAgICAgIGNvbGxlZ2U6IGRhdGEuY29sbGVnZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgIGltYWdlVXJsOiBkYXRhLmltYWdlVXJsLFxuICAgICAgICB3ZWJzaXRlOiBkYXRhLndlYnNpdGUsXG4gICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxuICAgICAgICBwaG9uZTogZGF0YS5waG9uZSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgaW5zdGl0dXRpb246JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGxvYWRFeGFtc0Zyb21Db250cmFjdCA9IGFzeW5jICh1c2VyQWRkcmVzczogYDB4JHtzdHJpbmd9YCk6IFByb21pc2U8RXhhbVtdPiA9PiB7XG4gICAgaWYgKCFleGFtTWFuYWdlbWVudENvbnRyYWN0IHx8ICF1c2VyQWRkcmVzcykge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgZXhhbU1hbmFnZW1lbnRDb250cmFjdC5nZXRJbnN0aXR1dGlvbkV4YW1zKHVzZXJBZGRyZXNzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBleGFtczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGxvYWRDZXJ0aWZpY2F0ZXNGcm9tQ29udHJhY3QgPSBhc3luYyAodXNlckFkZHJlc3M6IGAweCR7c3RyaW5nfWApOiBQcm9taXNlPENlcnRpZmljYXRlW10+ID0+IHtcbiAgICBpZiAoIWNlcnRpZmljYXRlc0NvbnRyYWN0IHx8ICF1c2VyQWRkcmVzcykge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgY2VydGlmaWNhdGVzQ29udHJhY3QuZ2V0SW5zdGl0dXRpb25DZXJ0aWZpY2F0ZXModXNlckFkZHJlc3MpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGNlcnRpZmljYXRlczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZUV4YW0gPSBhc3luYyAoZXhhbTogTmV3RXhhbSk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIGlmICghYWRkcmVzcykge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ9iu2LfYoyDZgdmKINin2YTYudmG2YjYp9mGIHwgQWRkcmVzcyBFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAn2YTZhSDZitiq2YUg2KfZhNi52KvZiNixINi52YTZiSDYudmG2YjYp9mGINin2YTZhdit2YHYuNipIHwgV2FsbGV0IGFkZHJlc3Mgbm90IGZvdW5kJyxcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCBjb250cmFjdCA9IGF3YWl0IGdldENvbnRyYWN0KCk7XG4gICAgICBjb25zdCB0eCA9IGF3YWl0IGNvbnRyYWN0LmNyZWF0ZUV4YW0oZXhhbS50aXRsZSwgZXhhbS5kZXNjcmlwdGlvbiwgZXhhbS5kYXRlKTtcbiAgICAgIGF3YWl0IHR4LndhaXQoKTtcbiAgICAgIGF3YWl0IGxvYWRFeGFtc0Zyb21Db250cmFjdChhZGRyZXNzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBleGFtOicsIGVycik7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3IgY3JlYXRpbmcgZXhhbScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQnLFxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZUV4YW1TdGF0dXMgPSBhc3luYyAoZXhhbUlkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAn2K7Yt9ijINmB2Yog2KfZhNi52YbZiNin2YYgfCBBZGRyZXNzIEVycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICfZhNmFINmK2KrZhSDYp9mE2LnYq9mI2LEg2LnZhNmJINi52YbZiNin2YYg2KfZhNmF2K3Zgdi42KkgfCBXYWxsZXQgYWRkcmVzcyBub3QgZm91bmQnLFxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIGNvbnN0IGNvbnRyYWN0ID0gYXdhaXQgZ2V0Q29udHJhY3QoKTtcbiAgICAgIGNvbnN0IHR4ID0gYXdhaXQgY29udHJhY3QudXBkYXRlRXhhbVN0YXR1cyhleGFtSWQsIHN0YXR1cyk7XG4gICAgICBhd2FpdCB0eC53YWl0KCk7XG4gICAgICBhd2FpdCBsb2FkRXhhbXNGcm9tQ29udHJhY3QoYWRkcmVzcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZXhhbSBzdGF0dXM6JywgZXJyKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvciB1cGRhdGluZyBleGFtIHN0YXR1cycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQnLFxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlZ2lzdGVyU3R1ZGVudHMgPSBhc3luYyAoZXhhbUlkOiBzdHJpbmcsIHN0dWRlbnRzOiBzdHJpbmdbXSk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCBjb250cmFjdCA9IGF3YWl0IGdldENvbnRyYWN0KCk7XG4gICAgICBjb25zdCB0eCA9IGF3YWl0IGNvbnRyYWN0LnJlZ2lzdGVyU3R1ZGVudHMoZXhhbUlkLCBzdHVkZW50cyk7XG4gICAgICBhd2FpdCB0eC53YWl0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVnaXN0ZXJpbmcgc3R1ZGVudHM6JywgZXJyKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvciByZWdpc3RlcmluZyBzdHVkZW50cycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQnLFxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdFJlc3VsdHMgPSBhc3luYyAoZXhhbUlkOiBzdHJpbmcsIHJlc3VsdHM6IEV4YW1SZXN1bHRbXSk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCBjb250cmFjdCA9IGF3YWl0IGdldENvbnRyYWN0KCk7XG4gICAgICBjb25zdCB0eCA9IGF3YWl0IGNvbnRyYWN0LnN1Ym1pdFJlc3VsdHMoZXhhbUlkLCByZXN1bHRzKTtcbiAgICAgIGF3YWl0IHR4LndhaXQoKTtcbiAgICAgIGF3YWl0IGxvYWRFeGFtUmVzdWx0cyhleGFtSWQpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ9iq2YUg2KXYttin2YHYqSDYp9mE2YbYqtin2KbYrCDYqNmG2KzYp9itIHwgUmVzdWx0cyBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnI6IHVua25vd24pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN1Ym1pdHRpbmcgcmVzdWx0czonLCBlcnIpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ9it2K/YqyDYrti32KMgfCBFcnJvciBvY2N1cnJlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQnLFxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGxvYWRFeGFtUmVzdWx0cyA9IGFzeW5jIChleGFtSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjdXJyZW50RXhhbSA9IGV4YW1zLmZpbmQoZXhhbSA9PiBleGFtLmlkID09PSBleGFtSWQpO1xuICAgICAgaWYgKCFjdXJyZW50RXhhbSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4YW0gbm90IGZvdW5kJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGV4YW1SZXN1bHRzTGlzdCA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBjdXJyZW50RXhhbS5zdHVkZW50cy5tYXAoYXN5bmMgKHN0dWRlbnRJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEV4YW1SZXN1bHQoZXhhbUlkLCBzdHVkZW50SWQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHZhbGlkUmVzdWx0cyA9IGV4YW1SZXN1bHRzTGlzdC5maWx0ZXIoKHJlc3VsdCk6IHJlc3VsdCBpcyBFeGFtUmVzdWx0ID0+IHJlc3VsdCAhPT0gbnVsbCk7XG4gICAgICBzZXRTZWxlY3RlZEV4YW1SZXN1bHRzKHZhbGlkUmVzdWx0cyk7XG5cbiAgICAgIGlmICh2YWxpZFJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNldEV4YW1TdGF0aXN0aWNzKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBzdGF0aXN0aWNzXG4gICAgICBjb25zdCB0b3RhbFN0dWRlbnRzID0gdmFsaWRSZXN1bHRzLmxlbmd0aDtcbiAgICAgIGNvbnN0IHBhc3NpbmdTdHVkZW50cyA9IHZhbGlkUmVzdWx0cy5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC5zY29yZSA+PSA2MCkubGVuZ3RoO1xuICAgICAgY29uc3QgdG90YWxTY29yZSA9IHZhbGlkUmVzdWx0cy5yZWR1Y2UoKHN1bSwgcmVzdWx0KSA9PiBzdW0gKyByZXN1bHQuc2NvcmUsIDApO1xuXG4gICAgICBjb25zdCBncmFkZUNvdW50ID0ge1xuICAgICAgICBBOiB2YWxpZFJlc3VsdHMuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuZ3JhZGUgPT09ICdBJykubGVuZ3RoLFxuICAgICAgICBCOiB2YWxpZFJlc3VsdHMuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuZ3JhZGUgPT09ICdCJykubGVuZ3RoLFxuICAgICAgICBDOiB2YWxpZFJlc3VsdHMuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuZ3JhZGUgPT09ICdDJykubGVuZ3RoLFxuICAgICAgICBEOiB2YWxpZFJlc3VsdHMuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuZ3JhZGUgPT09ICdEJykubGVuZ3RoLFxuICAgICAgICBGOiB2YWxpZFJlc3VsdHMuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuZ3JhZGUgPT09ICdGJykubGVuZ3RoXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBtb3N0Q29tbW9uR3JhZGUgPSBPYmplY3QuZW50cmllcyhncmFkZUNvdW50KVxuICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBhWzFdID4gYlsxXSA/IGEgOiBiKVswXTtcblxuICAgICAgc2V0RXhhbVN0YXRpc3RpY3Moe1xuICAgICAgICB0b3RhbFN0dWRlbnRzLFxuICAgICAgICBwYXNzaW5nQ291bnQ6IHBhc3NpbmdTdHVkZW50cyxcbiAgICAgICAgYUNvdW50OiBncmFkZUNvdW50LkEsXG4gICAgICAgIGJDb3VudDogZ3JhZGVDb3VudC5CLFxuICAgICAgICBjQ291bnQ6IGdyYWRlQ291bnQuQyxcbiAgICAgICAgZENvdW50OiBncmFkZUNvdW50LkQsXG4gICAgICAgIGZDb3VudDogZ3JhZGVDb3VudC5GLFxuICAgICAgICBhdmVyYWdlU2NvcmU6IHRvdGFsU2NvcmUgLyB0b3RhbFN0dWRlbnRzLFxuICAgICAgICBwYXNzUmF0ZTogKHBhc3NpbmdTdHVkZW50cyAqIDEwMCkgLyB0b3RhbFN0dWRlbnRzLFxuICAgICAgICBtb3N0Q29tbW9uR3JhZGVcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycjogdW5rbm93bikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBleGFtIHJlc3VsdHM6JywgZXJyKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvciBsb2FkaW5nIHJlc3VsdHMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkJyxcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBkdXJhdGlvbjogMzAwMFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUVucm9sbFN0dWRlbnQgPSBhc3luYyAoZXhhbUlkOiBzdHJpbmcsIHN0dWRlbnRBZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICfYrti32KMg2YHZiiDYp9mE2LnZhtmI2KfZhiB8IEFkZHJlc3MgRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ9mE2YUg2YrYqtmFINin2YTYudir2YjYsSDYudmE2Ykg2LnZhtmI2KfZhiDYp9mE2YXYrdmB2LjYqSB8IFdhbGxldCBhZGRyZXNzIG5vdCBmb3VuZCcsXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZHVyYXRpb246IDMwMDAsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgYXdhaXQgZW5yb2xsU3R1ZGVudChleGFtSWQsIHN0dWRlbnRBZGRyZXNzKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdTdHVkZW50IGVucm9sbGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgbG9hZEV4YW1zRnJvbUNvbnRyYWN0KGFkZHJlc3MpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyOiB1bmtub3duKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbnJvbGxpbmcgc3R1ZGVudDonLCBlcnIpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yIGVucm9sbGluZyBzdHVkZW50JyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCcsXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZHVyYXRpb246IDMwMDAsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaXNzdWVDZXJ0aWZpY2F0ZSA9IGFzeW5jIChzdHVkZW50QWRkcmVzczogc3RyaW5nLCBjZXJ0aWZpY2F0ZTogeyB0aXRsZTogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nIH0pOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICfYrti32KMg2YHZiiDYp9mE2LnZhtmI2KfZhiB8IEFkZHJlc3MgRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ9mE2YUg2YrYqtmFINin2YTYudir2YjYsSDYudmE2Ykg2LnZhtmI2KfZhiDYp9mE2YXYrdmB2LjYqSB8IFdhbGxldCBhZGRyZXNzIG5vdCBmb3VuZCcsXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZHVyYXRpb246IDMwMDAsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc3QgY29udHJhY3QgPSBhd2FpdCBnZXRDb250cmFjdCgpO1xuICAgICAgY29uc3QgdHggPSBhd2FpdCBjb250cmFjdC5pc3N1ZUNlcnRpZmljYXRlKHN0dWRlbnRBZGRyZXNzLCBjZXJ0aWZpY2F0ZS50aXRsZSwgY2VydGlmaWNhdGUuZGVzY3JpcHRpb24pO1xuICAgICAgYXdhaXQgdHgud2FpdCgpO1xuICAgICAgYXdhaXQgbG9hZENlcnRpZmljYXRlc0Zyb21Db250cmFjdChhZGRyZXNzKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdDZXJ0aWZpY2F0ZSBpc3N1ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnI6IHVua25vd24pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGlzc3VpbmcgY2VydGlmaWNhdGU6JywgZXJyKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvciBpc3N1aW5nIGNlcnRpZmljYXRlJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCcsXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZHVyYXRpb246IDMwMDAsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2F2ZUluc3RpdHV0aW9uUHJvZmlsZSA9IGFzeW5jIChkYXRhOiBJbnN0aXR1dGlvbkRhdGEpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBpZiAoIWV4YW1NYW5hZ2VtZW50Q29udHJhY3QgfHwgIWFkZHJlc3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29udHJhY3Qgb3IgYWRkcmVzcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCFkYXRhLm5hbWUgfHwgIWRhdGEubWluaXN0cnkgfHwgIWRhdGEudW5pdmVyc2l0eSB8fCAhZGF0YS5jb2xsZWdlIHx8XG4gICAgICAhZGF0YS5kZXNjcmlwdGlvbiB8fCAhZGF0YS5pbWFnZVVybCB8fCAhZGF0YS53ZWJzaXRlIHx8ICFkYXRhLmVtYWlsIHx8ICFkYXRhLnBob25lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ9is2YXZiti5INin2YTYrdmC2YjZhCDZhdi32YTZiNio2KkgfCBBbGwgZmllbGRzIGFyZSByZXF1aXJlZCcpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCB0eCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50Q29udHJhY3Qud3JpdGUudXBkYXRlSW5zdGl0dXRpb25Qcm9maWxlKHtcbiAgICAgICAgYXJnczogW1xuICAgICAgICAgIGRhdGEubmFtZSxcbiAgICAgICAgICBkYXRhLm1pbmlzdHJ5LFxuICAgICAgICAgIGRhdGEudW5pdmVyc2l0eSxcbiAgICAgICAgICBkYXRhLmNvbGxlZ2UsXG4gICAgICAgICAgZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBkYXRhLmltYWdlVXJsIHx8ICcnLFxuICAgICAgICAgIGRhdGEud2Vic2l0ZSB8fCAnJyxcbiAgICAgICAgICBkYXRhLmVtYWlsIHx8ICcnLFxuICAgICAgICAgIGRhdGEucGhvbmUgfHwgJydcbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgICBhd2FpdCB0eC53YWl0KCk7XG4gICAgICBzZXRJbnN0aXR1dGlvbihkYXRhKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICfYqtmFINin2YTYrdmB2Lgg2KjZhtis2KfYrSB8IFNhdmVkIFN1Y2Nlc3NmdWxseScsXG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgaW5zdGl0dXRpb24gcHJvZmlsZTonLCBlcnJvcik7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAn2K7Yt9ijINmB2Yog2KfZhNit2YHYuCB8IEVycm9yIFNhdmluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkJyxcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaW5zdGl0dXRpb24sXG4gICAgZXhhbXMsXG4gICAgY2VydGlmaWNhdGVzLFxuICAgIGlzTG9hZGluZyxcbiAgICBpc0luaXRpYWxpemVkLFxuICAgIGhhc0FjY2VzcyxcbiAgICBzZWxlY3RlZEV4YW1SZXN1bHRzLFxuICAgIGV4YW1TdGF0aXN0aWNzLFxuICAgIHNhdmVJbnN0aXR1dGlvblByb2ZpbGUsXG4gICAgY3JlYXRlRXhhbSxcbiAgICB1cGRhdGVFeGFtU3RhdHVzLFxuICAgIHJlZ2lzdGVyU3R1ZGVudHMsXG4gICAgaGFuZGxlU3VibWl0UmVzdWx0cyxcbiAgICBoYW5kbGVFbnJvbGxTdHVkZW50LFxuICAgIGxvYWRFeGFtUmVzdWx0cyxcbiAgICBpc3N1ZUNlcnRpZmljYXRlLFxuICB9O1xufTsgIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlVG9hc3QiLCJnZXRFeGFtUmVzdWx0IiwiZW5yb2xsU3R1ZGVudCIsImdldENvbnRyYWN0IiwidXNlQWNjb3VudCIsInVzZUNvbnRyYWN0IiwiZ2V0QWRkcmVzcyIsIklOU1RJVFVUSU9OX1NUT1JBR0VfS0VZIiwiRVhBTVNfU1RPUkFHRV9LRVkiLCJDRVJUSUZJQ0FURVNfU1RPUkFHRV9LRVkiLCJ1c2VJbnN0aXR1dGlvbiIsImV4YW1NYW5hZ2VtZW50Q29udHJhY3QiLCJjZXJ0aWZpY2F0ZXNDb250cmFjdCIsImlzSW5pdGlhbGl6ZWQiLCJjb250cmFjdHNJbml0aWFsaXplZCIsImlzTG9hZGluZyIsImNvbnRyYWN0c0xvYWRpbmciLCJhZGRyZXNzIiwidW5kZWZpbmVkIiwiaXNDb25uZWN0ZWQiLCJ0b2FzdCIsInNldElzTG9hZGluZyIsInNldElzSW5pdGlhbGl6ZWQiLCJpbml0aWFsaXphdGlvbkF0dGVtcHRzIiwic2V0SW5pdGlhbGl6YXRpb25BdHRlbXB0cyIsImluc3RpdHV0aW9uIiwic2V0SW5zdGl0dXRpb24iLCJleGFtcyIsInNldEV4YW1zIiwiY2VydGlmaWNhdGVzIiwic2V0Q2VydGlmaWNhdGVzIiwiaGFzQWNjZXNzIiwic2V0SGFzQWNjZXNzIiwic2VsZWN0ZWRFeGFtUmVzdWx0cyIsInNldFNlbGVjdGVkRXhhbVJlc3VsdHMiLCJleGFtU3RhdGlzdGljcyIsInNldEV4YW1TdGF0aXN0aWNzIiwiY2hlY2tBY2Nlc3MiLCJ1c2VyQWRkcmVzcyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJpc01vdW50ZWQiLCJpbml0VGltZW91dCIsImluaXRpYWxpemVEYXRhIiwiaW5pdFN0YXRlIiwiaGFzQWRkcmVzcyIsImhhc0V4YW1Db250cmFjdCIsImhhc0NlcnRpZmljYXRlc0NvbnRyYWN0IiwiYXR0ZW1wdHMiLCJzZXRUaW1lb3V0IiwicHJldiIsImR1cmF0aW9uIiwiaXNDbG9zYWJsZSIsImFjY2Vzc0dyYW50ZWQiLCJpbnN0aXR1dGlvbkRhdGEiLCJleGFtc0RhdGEiLCJjZXJ0aWZpY2F0ZXNEYXRhIiwiUHJvbWlzZSIsImFsbCIsImxvYWRJbnN0aXR1dGlvbkZyb21Db250cmFjdCIsImxvYWRFeGFtc0Zyb21Db250cmFjdCIsImxvYWRDZXJ0aWZpY2F0ZXNGcm9tQ29udHJhY3QiLCJFcnJvciIsIm5hbWUiLCJtZXNzYWdlIiwic3RhY2siLCJzdGF0ZSIsImNvbnRyYWN0U3RhdHVzIiwiY2xlYXJUaW1lb3V0IiwiZGF0YSIsImdldEluc3RpdHV0aW9uIiwibWluaXN0cnkiLCJ1bml2ZXJzaXR5IiwiY29sbGVnZSIsImltYWdlVXJsIiwid2Vic2l0ZSIsImVtYWlsIiwicGhvbmUiLCJnZXRJbnN0aXR1dGlvbkV4YW1zIiwiZ2V0SW5zdGl0dXRpb25DZXJ0aWZpY2F0ZXMiLCJjcmVhdGVFeGFtIiwiZXhhbSIsImNvbnRyYWN0IiwidHgiLCJkYXRlIiwid2FpdCIsImVyciIsInVwZGF0ZUV4YW1TdGF0dXMiLCJleGFtSWQiLCJyZWdpc3RlclN0dWRlbnRzIiwic3R1ZGVudHMiLCJoYW5kbGVTdWJtaXRSZXN1bHRzIiwicmVzdWx0cyIsInN1Ym1pdFJlc3VsdHMiLCJsb2FkRXhhbVJlc3VsdHMiLCJjdXJyZW50RXhhbSIsImZpbmQiLCJpZCIsImV4YW1SZXN1bHRzTGlzdCIsIm1hcCIsInN0dWRlbnRJZCIsInJlc3VsdCIsInZhbGlkUmVzdWx0cyIsImZpbHRlciIsImxlbmd0aCIsInRvdGFsU3R1ZGVudHMiLCJwYXNzaW5nU3R1ZGVudHMiLCJzY29yZSIsInRvdGFsU2NvcmUiLCJyZWR1Y2UiLCJzdW0iLCJncmFkZUNvdW50IiwiQSIsImdyYWRlIiwiQiIsIkMiLCJEIiwiRiIsIm1vc3RDb21tb25HcmFkZSIsIk9iamVjdCIsImVudHJpZXMiLCJhIiwiYiIsInBhc3NpbmdDb3VudCIsImFDb3VudCIsImJDb3VudCIsImNDb3VudCIsImRDb3VudCIsImZDb3VudCIsImF2ZXJhZ2VTY29yZSIsInBhc3NSYXRlIiwiaGFuZGxlRW5yb2xsU3R1ZGVudCIsInN0dWRlbnRBZGRyZXNzIiwiaXNzdWVDZXJ0aWZpY2F0ZSIsImNlcnRpZmljYXRlIiwic2F2ZUluc3RpdHV0aW9uUHJvZmlsZSIsIndyaXRlIiwidXBkYXRlSW5zdGl0dXRpb25Qcm9maWxlIiwiYXJncyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./hooks/useInstitution.ts\n"));

/***/ }),

/***/ "./utils/ethersConfig.ts":
/*!*******************************!*\
  !*** ./utils/ethersConfig.ts ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EXPECTED_NETWORK: function() { return /* binding */ EXPECTED_NETWORK; },\n/* harmony export */   formatEther: function() { return /* binding */ formatEther; },\n/* harmony export */   getAddress: function() { return /* binding */ getAddress; },\n/* harmony export */   getContract: function() { return /* binding */ getContract; },\n/* harmony export */   getProvider: function() { return /* binding */ getProvider; },\n/* harmony export */   getSigner: function() { return /* binding */ getSigner; },\n/* harmony export */   handleContractError: function() { return /* binding */ handleContractError; },\n/* harmony export */   validateAddress: function() { return /* binding */ validateAddress; },\n/* harmony export */   validateNetwork: function() { return /* binding */ validateNetwork; }\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethers */ \"./node_modules/.pnpm/ethers@6.13.5_bufferutil@4.0.7_utf-8-validate@6.0.3/node_modules/ethers/lib.esm/index.js\");\n\n// Re-export the getAddress function\nconst getAddress = ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress;\n// Network configuration\nconst EXPECTED_NETWORK = {\n    chainId: \"1337\" || 0,\n    name: \"Localhost\",\n    rpcUrl: \"http://127.0.0.1:7545\" || 0\n};\n// Provider and signer functions\nconst getProvider = async ()=>{\n    if ( false || !window.ethereum) {\n        throw new Error(\"No ethereum provider found\");\n    }\n    const provider = new ethers__WEBPACK_IMPORTED_MODULE_0__.JsonRpcProvider(EXPECTED_NETWORK.rpcUrl);\n    await window.ethereum.request({\n        method: \"eth_requestAccounts\"\n    });\n    return provider;\n};\nconst getSigner = async ()=>{\n    const provider = await getProvider();\n    return provider.getSigner();\n};\nconst validateNetwork = async (provider)=>{\n    const network = await provider.getNetwork();\n    const chainId = network.chainId.toString();\n    if (chainId !== EXPECTED_NETWORK.chainId) {\n        throw new Error(\"Please connect to \".concat(EXPECTED_NETWORK.name, \" network (Chain ID: \").concat(EXPECTED_NETWORK.chainId, \")\"));\n    }\n};\n// Helper functions for working with contracts\nconst getContract = (address, abi, signer)=>{\n    return new ethers__WEBPACK_IMPORTED_MODULE_0__.Contract(address, abi, signer);\n};\nconst validateAddress = (address)=>{\n    if (!address) {\n        throw new Error(\"Address is required\");\n    }\n    try {\n        return getAddress(address);\n    } catch (error) {\n        throw new Error(\"Invalid Ethereum address\");\n    }\n};\nconst formatEther = (value)=>{\n    return (0,ethers__WEBPACK_IMPORTED_MODULE_0__.formatUnits)(value, 18);\n};\n// Utility function to handle common contract errors\nconst handleContractError = (error)=>{\n    var _error_message, _error_message1, _error_message2;\n    console.error(\"Contract error:\", error);\n    if (error.reason) {\n        throw new Error(\"Smart contract error: \".concat(error.reason));\n    } else if ((_error_message = error.message) === null || _error_message === void 0 ? void 0 : _error_message.includes(\"user rejected\")) {\n        throw new Error(\"Transaction rejected by user\");\n    } else if ((_error_message1 = error.message) === null || _error_message1 === void 0 ? void 0 : _error_message1.includes(\"insufficient funds\")) {\n        throw new Error(\"Insufficient funds to complete the transaction\");\n    } else if ((_error_message2 = error.message) === null || _error_message2 === void 0 ? void 0 : _error_message2.includes(\"network\")) {\n        throw new Error(\"Please make sure you are connected to the correct network\");\n    } else {\n        throw new Error(\"Transaction failed. Please check your connection and try again.\");\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9ldGhlcnNDb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQU1nQjtBQUVoQixvQ0FBb0M7QUFDN0IsTUFBTUcsYUFBYUMsOENBQVdBLENBQUM7QUF5QnRDLHdCQUF3QjtBQUNqQixNQUFNQyxtQkFBbUI7SUFDOUJDLFNBQVNDLE1BQWdDLElBQUk7SUFDN0NHLE1BQU07SUFDTkMsUUFBUUosdUJBQW1DLElBQUk7QUFDakQsRUFBRTtBQUVGLGdDQUFnQztBQUN6QixNQUFNTSxjQUFjO0lBQ3pCLElBQUksTUFBa0IsSUFBZSxDQUFDQyxPQUFPQyxRQUFRLEVBQUU7UUFDckQsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBRUEsTUFBTUMsV0FBVyxJQUFJaEIsbURBQWVBLENBQUNJLGlCQUFpQk0sTUFBTTtJQUM1RCxNQUFNRyxPQUFPQyxRQUFRLENBQUNHLE9BQU8sQ0FBQztRQUFFQyxRQUFRO0lBQXNCO0lBQzlELE9BQU9GO0FBQ1QsRUFBRTtBQUVLLE1BQU1HLFlBQVk7SUFDdkIsTUFBTUgsV0FBVyxNQUFNSjtJQUN2QixPQUFPSSxTQUFTRyxTQUFTO0FBQzNCLEVBQUU7QUFFSyxNQUFNQyxrQkFBa0IsT0FBT0o7SUFDcEMsTUFBTUssVUFBVSxNQUFNTCxTQUFTTSxVQUFVO0lBQ3pDLE1BQU1qQixVQUFVZ0IsUUFBUWhCLE9BQU8sQ0FBQ2tCLFFBQVE7SUFFeEMsSUFBSWxCLFlBQVlELGlCQUFpQkMsT0FBTyxFQUFFO1FBQ3hDLE1BQU0sSUFBSVUsTUFBTSxxQkFBaUVYLE9BQTVDQSxpQkFBaUJLLElBQUksRUFBQyx3QkFBK0MsT0FBekJMLGlCQUFpQkMsT0FBTyxFQUFDO0lBQzVHO0FBQ0YsRUFBRTtBQUVGLDhDQUE4QztBQUN2QyxNQUFNbUIsY0FBYyxDQUN6QkMsU0FDQUMsS0FDQUM7SUFFQSxPQUFPLElBQUk1Qiw0Q0FBUUEsQ0FBQzBCLFNBQVNDLEtBQUtDO0FBQ3BDLEVBQUU7QUFFSyxNQUFNQyxrQkFBa0IsQ0FBQ0g7SUFDOUIsSUFBSSxDQUFDQSxTQUFTO1FBQ1osTUFBTSxJQUFJVixNQUFNO0lBQ2xCO0lBRUEsSUFBSTtRQUNGLE9BQU9iLFdBQVd1QjtJQUNwQixFQUFFLE9BQU9JLE9BQU87UUFDZCxNQUFNLElBQUlkLE1BQU07SUFDbEI7QUFDRixFQUFFO0FBRUssTUFBTWUsY0FBYyxDQUFDQztJQUMxQixPQUFPOUIsbURBQVdBLENBQUM4QixPQUFPO0FBQzVCLEVBQUU7QUFFRixvREFBb0Q7QUFDN0MsTUFBTUMsc0JBQXNCLENBQUNIO1FBS3ZCQSxnQkFFQUEsaUJBRUFBO0lBUlhJLFFBQVFKLEtBQUssQ0FBQyxtQkFBbUJBO0lBRWpDLElBQUlBLE1BQU1LLE1BQU0sRUFBRTtRQUNoQixNQUFNLElBQUluQixNQUFNLHlCQUFzQyxPQUFiYyxNQUFNSyxNQUFNO0lBQ3ZELE9BQU8sS0FBSUwsaUJBQUFBLE1BQU1NLE9BQU8sY0FBYk4scUNBQUFBLGVBQWVPLFFBQVEsQ0FBQyxrQkFBa0I7UUFDbkQsTUFBTSxJQUFJckIsTUFBTTtJQUNsQixPQUFPLEtBQUljLGtCQUFBQSxNQUFNTSxPQUFPLGNBQWJOLHNDQUFBQSxnQkFBZU8sUUFBUSxDQUFDLHVCQUF1QjtRQUN4RCxNQUFNLElBQUlyQixNQUFNO0lBQ2xCLE9BQU8sS0FBSWMsa0JBQUFBLE1BQU1NLE9BQU8sY0FBYk4sc0NBQUFBLGdCQUFlTyxRQUFRLENBQUMsWUFBWTtRQUM3QyxNQUFNLElBQUlyQixNQUFNO0lBQ2xCLE9BQU87UUFDTCxNQUFNLElBQUlBLE1BQU07SUFDbEI7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3V0aWxzL2V0aGVyc0NvbmZpZy50cz81NmI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICBDb250cmFjdCwgXG4gIEpzb25ScGNQcm92aWRlciwgXG4gIGZvcm1hdFVuaXRzLCBcbiAgZ2V0QWRkcmVzcyBhcyBfZ2V0QWRkcmVzcyxcbiAgdHlwZSBKc29uUnBjU2lnbmVyIFxufSBmcm9tICdldGhlcnMnO1xuXG4vLyBSZS1leHBvcnQgdGhlIGdldEFkZHJlc3MgZnVuY3Rpb25cbmV4cG9ydCBjb25zdCBnZXRBZGRyZXNzID0gX2dldEFkZHJlc3M7XG5cbi8vIFR5cGVzXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RBcmd1bWVudHMge1xuICBtZXRob2Q6IHN0cmluZztcbiAgcGFyYW1zPzogdW5rbm93bltdIHwgb2JqZWN0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV0aGVyZXVtUHJvdmlkZXIge1xuICByZXF1ZXN0KGFyZ3M6IFJlcXVlc3RBcmd1bWVudHMpOiBQcm9taXNlPHVua25vd24+O1xuICBvbj8oZXZlbnROYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkO1xuICByZW1vdmVMaXN0ZW5lcj8oZXZlbnROYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkO1xuICBzZWxlY3RlZEFkZHJlc3M/OiBzdHJpbmc7XG4gIGlzTWV0YU1hc2s/OiBib29sZWFuO1xuICBjaGFpbklkPzogc3RyaW5nO1xuICBuZXR3b3JrVmVyc2lvbj86IHN0cmluZztcbn1cblxuLy8gQWRkIHR5cGUgZGVjbGFyYXRpb24gZm9yIHRoZSBnbG9iYWwgd2luZG93IG9iamVjdFxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBldGhlcmV1bT86IEV0aGVyZXVtUHJvdmlkZXI7XG4gIH1cbn1cblxuLy8gTmV0d29yayBjb25maWd1cmF0aW9uXG5leHBvcnQgY29uc3QgRVhQRUNURURfTkVUV09SSyA9IHtcbiAgY2hhaW5JZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ0hBSU5fSUQgfHwgJzEzMzcnLFxuICBuYW1lOiAnTG9jYWxob3N0JyxcbiAgcnBjVXJsOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19ORVRXT1JLX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4NTQ1J1xufTtcblxuLy8gUHJvdmlkZXIgYW5kIHNpZ25lciBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBnZXRQcm92aWRlciA9IGFzeW5jICgpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICF3aW5kb3cuZXRoZXJldW0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGV0aGVyZXVtIHByb3ZpZGVyIGZvdW5kJyk7XG4gIH1cblxuICBjb25zdCBwcm92aWRlciA9IG5ldyBKc29uUnBjUHJvdmlkZXIoRVhQRUNURURfTkVUV09SSy5ycGNVcmwpO1xuICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogXCJldGhfcmVxdWVzdEFjY291bnRzXCIgfSk7XG4gIHJldHVybiBwcm92aWRlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTaWduZXIgPSBhc3luYyAoKTogUHJvbWlzZTxKc29uUnBjU2lnbmVyPiA9PiB7XG4gIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgZ2V0UHJvdmlkZXIoKTtcbiAgcmV0dXJuIHByb3ZpZGVyLmdldFNpZ25lcigpO1xufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlTmV0d29yayA9IGFzeW5jIChwcm92aWRlcjogSnNvblJwY1Byb3ZpZGVyKSA9PiB7XG4gIGNvbnN0IG5ldHdvcmsgPSBhd2FpdCBwcm92aWRlci5nZXROZXR3b3JrKCk7XG4gIGNvbnN0IGNoYWluSWQgPSBuZXR3b3JrLmNoYWluSWQudG9TdHJpbmcoKTtcbiAgXG4gIGlmIChjaGFpbklkICE9PSBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFBsZWFzZSBjb25uZWN0IHRvICR7RVhQRUNURURfTkVUV09SSy5uYW1lfSBuZXR3b3JrIChDaGFpbiBJRDogJHtFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWR9KWApO1xuICB9XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB3b3JraW5nIHdpdGggY29udHJhY3RzXG5leHBvcnQgY29uc3QgZ2V0Q29udHJhY3QgPSA8VCBleHRlbmRzIENvbnRyYWN0PihcbiAgYWRkcmVzczogc3RyaW5nLFxuICBhYmk6IGFueSxcbiAgc2lnbmVyOiBKc29uUnBjU2lnbmVyXG4pOiBUID0+IHtcbiAgcmV0dXJuIG5ldyBDb250cmFjdChhZGRyZXNzLCBhYmksIHNpZ25lcikgYXMgVDtcbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUFkZHJlc3MgPSAoYWRkcmVzczogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCk6IHN0cmluZyA9PiB7XG4gIGlmICghYWRkcmVzcykge1xuICAgIHRocm93IG5ldyBFcnJvcignQWRkcmVzcyBpcyByZXF1aXJlZCcpO1xuICB9XG4gIFxuICB0cnkge1xuICAgIHJldHVybiBnZXRBZGRyZXNzKGFkZHJlc3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBFdGhlcmV1bSBhZGRyZXNzJyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRFdGhlciA9ICh2YWx1ZTogYmlnaW50KTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGZvcm1hdFVuaXRzKHZhbHVlLCAxOCk7XG59O1xuXG4vLyBVdGlsaXR5IGZ1bmN0aW9uIHRvIGhhbmRsZSBjb21tb24gY29udHJhY3QgZXJyb3JzXG5leHBvcnQgY29uc3QgaGFuZGxlQ29udHJhY3RFcnJvciA9IChlcnJvcjogYW55KTogbmV2ZXIgPT4ge1xuICBjb25zb2xlLmVycm9yKCdDb250cmFjdCBlcnJvcjonLCBlcnJvcik7XG4gIFxuICBpZiAoZXJyb3IucmVhc29uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBTbWFydCBjb250cmFjdCBlcnJvcjogJHtlcnJvci5yZWFzb259YCk7XG4gIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ3VzZXIgcmVqZWN0ZWQnKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNhY3Rpb24gcmVqZWN0ZWQgYnkgdXNlcicpO1xuICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdpbnN1ZmZpY2llbnQgZnVuZHMnKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW5zdWZmaWNpZW50IGZ1bmRzIHRvIGNvbXBsZXRlIHRoZSB0cmFuc2FjdGlvbicpO1xuICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCduZXR3b3JrJykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBtYWtlIHN1cmUgeW91IGFyZSBjb25uZWN0ZWQgdG8gdGhlIGNvcnJlY3QgbmV0d29yaycpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNhY3Rpb24gZmFpbGVkLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uIGFuZCB0cnkgYWdhaW4uJyk7XG4gIH1cbn07ICJdLCJuYW1lcyI6WyJDb250cmFjdCIsIkpzb25ScGNQcm92aWRlciIsImZvcm1hdFVuaXRzIiwiZ2V0QWRkcmVzcyIsIl9nZXRBZGRyZXNzIiwiRVhQRUNURURfTkVUV09SSyIsImNoYWluSWQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQ0hBSU5fSUQiLCJuYW1lIiwicnBjVXJsIiwiTkVYVF9QVUJMSUNfTkVUV09SS19VUkwiLCJnZXRQcm92aWRlciIsIndpbmRvdyIsImV0aGVyZXVtIiwiRXJyb3IiLCJwcm92aWRlciIsInJlcXVlc3QiLCJtZXRob2QiLCJnZXRTaWduZXIiLCJ2YWxpZGF0ZU5ldHdvcmsiLCJuZXR3b3JrIiwiZ2V0TmV0d29yayIsInRvU3RyaW5nIiwiZ2V0Q29udHJhY3QiLCJhZGRyZXNzIiwiYWJpIiwic2lnbmVyIiwidmFsaWRhdGVBZGRyZXNzIiwiZXJyb3IiLCJmb3JtYXRFdGhlciIsInZhbHVlIiwiaGFuZGxlQ29udHJhY3RFcnJvciIsImNvbnNvbGUiLCJyZWFzb24iLCJtZXNzYWdlIiwiaW5jbHVkZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/ethersConfig.ts\n"));

/***/ })

});